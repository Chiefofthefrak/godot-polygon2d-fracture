[gd_scene load_steps=5 format=2]

[ext_resource path="res://demo/ui/Title.tscn" type="PackedScene" id=1]
[ext_resource path="res://demo/src/FractureBody.tscn" type="PackedScene" id=2]
[ext_resource path="res://demo/src/Fracture.gd" type="Script" id=3]

[sub_resource type="PhysicsMaterial" id=1]
friction = 0.25
bounce = 1.0
absorbent = true

[node name="FractureTest" type="Node2D"]

[node name="Fracture" type="Node2D" parent="."]
script = ExtResource( 3 )
fracture_body_color = Color( 0.137255, 0.576471, 0.886275, 1 )
fracture_body_template = ExtResource( 2 )
delauny_type = 2
cuts = 64
min_area = 2000

[node name="SourcePolygons" type="Node2D" parent="Fracture"]
show_behind_parent = true

[node name="Polygon2D" type="Polygon2D" parent="Fracture/SourcePolygons"]
show_behind_parent = true
position = Vector2( -1344, -608 )
color = Color( 0.545098, 0.545098, 0.545098, 1 )
polygon = PoolVector2Array( -256, -256, 256, -256, 256, 256, -256, 256 )

[node name="Line2D" type="Line2D" parent="Fracture/SourcePolygons/Polygon2D"]
points = PoolVector2Array( -256, -256, 256, -256, 256, 256, -256, 256, -256, -256 )
default_color = Color( 1.5, 1.5, 1.5, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
antialiased = true

[node name="Polygon2D5" type="Polygon2D" parent="Fracture/SourcePolygons"]
show_behind_parent = true
position = Vector2( -199.223, -413.845 )
color = Color( 0.545098, 0.545098, 0.545098, 1 )
polygon = PoolVector2Array( -256, -256, 70.0242, -341.208, 256, -256, 324.515, 98.7989, 256, 256, -98.8433, 457.939, -427.064, 289.072, -515.066, -22.5002 )

[node name="Line2D" type="Line2D" parent="Fracture/SourcePolygons/Polygon2D5"]
points = PoolVector2Array( -256, -256, 62.8889, -343.586, 256, -256, 324.515, 89.2852, 256, 256, -94.0864, 455.561, -427.064, 284.315, -517.444, -20.1218, -256, -256 )
default_color = Color( 1.5, 1.5, 1.5, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
antialiased = true

[node name="Polygon2D6" type="Polygon2D" parent="Fracture/SourcePolygons"]
show_behind_parent = true
position = Vector2( 922.306, -569.375 )
color = Color( 0.545098, 0.545098, 0.545098, 1 )
polygon = PoolVector2Array( -256, -256, 99.7042, -352.841, 256, -256, 497.056, -52.0214, 752.977, -85.6953, 256, 256, 27.8666, -2.63306, -256, 256, -335.811, -61.0011 )

[node name="Line2D" type="Line2D" parent="Fracture/SourcePolygons/Polygon2D6"]
points = PoolVector2Array( -256, -256, 97.4592, -364.066, 256, -256, 501.546, -56.5112, 748.487, -85.6953, 256, 256, 30.1116, -2.63306, -256, 256, -329.076, -61.0011, -256, -256 )
default_color = Color( 1.5, 1.5, 1.5, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
antialiased = true

[node name="Parent" type="Node2D" parent="Fracture"]

[node name="Timer" type="Timer" parent="Fracture"]
wait_time = 3.0

[node name="VisibleTimer" type="Timer" parent="Fracture"]
one_shot = true

[node name="SlowdownTimer" type="Timer" parent="Fracture"]
one_shot = true

[node name="Floor" type="StaticBody2D" parent="Fracture"]
modulate = Color( 0.537255, 0.266667, 0.266667, 1 )
position = Vector2( 0, 933.82 )
physics_material_override = SubResource( 1 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Fracture/Floor"]
polygon = PoolVector2Array( -1829.84, 455.127, -15.1694, -546.559, 1313.25, 105.895, 2018.73, -48.1862, 2014.24, 270.593 )

[node name="Polygon2D" type="Polygon2D" parent="Fracture/Floor"]
color = Color( 0.603922, 0.603922, 0.603922, 1 )
polygon = PoolVector2Array( -1819.15, 451.564, -10.6794, -542.069, 1309.69, 109.458, 2023.22, -48.1862, 2023.22, 270.593 )

[node name="Line2D" type="Line2D" parent="Fracture/Floor/Polygon2D"]
points = PoolVector2Array( -1815.59, 451.564, -10.6794, -546.559, 1316.81, 105.895, 2014.24, -43.6963, 2014.24, 252.634, -1815.59, 451.564 )
width = 15.0
default_color = Color( 1, 1, 1, 1 )
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2
antialiased = true

[node name="Camera2D" type="Camera2D" parent="."]
current = true
zoom = Vector2( 2, 2 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Title" parent="CanvasLayer" instance=ExtResource( 1 )]
text = "FRACTURE SIMPLE (fractures are capped at 32)"
[connection signal="timeout" from="Fracture/Timer" to="Fracture" method="_on_Timer_timeout"]
[connection signal="timeout" from="Fracture/VisibleTimer" to="Fracture" method="_on_VisibleTimer_timeout"]
[connection signal="timeout" from="Fracture/SlowdownTimer" to="Fracture" method="_on_SlowdownTimer_timeout"]
